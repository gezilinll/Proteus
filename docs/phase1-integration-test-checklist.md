# Phase 1 集成测试清单

## Step 14: 集成测试与优化

### 验收标准
- [ ] 所有功能联合测试通过
- [ ] 100 个元素场景流畅
- [ ] 无内存泄漏
- [ ] 无明显 bug
- [ ] Demo 可演示

---

## 功能测试清单

### 1. 基础元素创建与渲染

#### 矩形元素
- [ ] 使用矩形工具（R）创建矩形
- [ ] 矩形正确渲染（填充、描边）
- [ ] 矩形可以移动、缩放、旋转
- [ ] 矩形样式正确应用（颜色、透明度、圆角）

#### 圆形元素
- [ ] 使用圆形工具（O）创建圆形/椭圆
- [ ] 圆形正确渲染
- [ ] 圆形可以移动、缩放、旋转
- [ ] 圆形样式正确应用

#### 文本元素
- [ ] 使用文本工具（T）创建文本
- [ ] 文本正确渲染
- [ ] 双击进入编辑模式
- [ ] 文本可以移动、缩放
- [ ] 文本样式正确应用（字体、大小、颜色、对齐）

#### 图片元素
- [ ] 使用图片工具（I）创建图片
- [ ] 拖拽导入图片
- [ ] 粘贴图片（从剪贴板）
- [ ] 图片正确渲染
- [ ] 图片可以移动、缩放、旋转
- [ ] 图片加载状态显示

### 2. 选择与交互

#### 点选
- [ ] 点击选择单个元素
- [ ] 选中元素显示高亮边框
- [ ] 点击空白区域取消选择
- [ ] 选中元素显示控制点

#### 框选
- [ ] 拖拽框选多个元素
- [ ] 框选区域正确显示
- [ ] 框选后所有元素被选中

#### 多选
- [ ] Shift + 点击多选
- [ ] 多选元素正确高亮
- [ ] 多选元素显示统一控制点

### 3. 变换操作

#### 移动
- [ ] 拖拽移动单个元素
- [ ] 拖拽移动多个元素
- [ ] 移动时显示辅助线
- [ ] 移动后位置正确

#### 缩放
- [ ] 拖拽控制点缩放元素
- [ ] 等比缩放（Shift）
- [ ] 自由缩放
- [ ] 缩放后尺寸正确

#### 旋转
- [ ] 拖拽旋转控制点旋转元素
- [ ] 旋转角度正确
- [ ] 旋转中心点正确

### 4. 工具系统

#### 工具切换
- [ ] 选择工具（V）
- [ ] 矩形工具（R）
- [ ] 圆形工具（O）
- [ ] 文本工具（T）
- [ ] 图片工具（I）
- [ ] 快捷键切换工具

#### 工具状态
- [ ] 工具图标正确显示选中状态
- [ ] 切换工具后光标样式正确
- [ ] 工具提示正确显示

### 5. 图层管理

#### 图层显示
- [ ] 图层面板显示所有元素
- [ ] 图层顺序正确
- [ ] 图层名称正确显示
- [ ] 图层缩略图正确显示

#### 图层操作
- [ ] 拖拽调整图层顺序
- [ ] 右键菜单可用（上移/下移/置顶/置底）
- [ ] 图层操作可撤销/重做
- [ ] 图层顺序影响渲染顺序

#### 图层交互
- [ ] 点击图层选中元素
- [ ] 图层可见性切换
- [ ] 图层锁定功能

### 6. 对齐与分布

#### 对齐
- [ ] 左对齐
- [ ] 右对齐
- [ ] 居中对齐
- [ ] 上对齐
- [ ] 下对齐
- [ ] 垂直居中
- [ ] 水平居中

#### 分布
- [ ] 水平分布
- [ ] 垂直分布
- [ ] 分布间距正确

### 7. 复制粘贴

#### 内部元素复制粘贴
- [ ] Ctrl/Cmd + C 复制元素
- [ ] Ctrl/Cmd + V 粘贴元素（偏移位置）
- [ ] 复制矩形、圆形、文本、图片都正常
- [ ] 粘贴后元素 ID 正确更新
- [ ] 粘贴后元素位置正确偏移

#### 外部内容粘贴
- [ ] 从外部复制图片，粘贴到编辑器
- [ ] 从外部复制文本，粘贴到编辑器
- [ ] 外部内容正确创建为元素
- [ ] 外部内容粘贴后位置正确

#### 剪切
- [ ] Ctrl/Cmd + X 剪切元素
- [ ] 剪切后元素被删除
- [ ] 剪切后可以粘贴

### 8. 撤销/重做

#### 撤销
- [ ] Ctrl/Cmd + Z 撤销操作
- [ ] 撤销创建元素
- [ ] 撤销删除元素
- [ ] 撤销修改元素
- [ ] 撤销变换操作
- [ ] 撤销图层操作

#### 重做
- [ ] Ctrl/Cmd + Shift + Z 重做操作
- [ ] 重做所有类型的操作
- [ ] 撤销/重做状态正确显示

### 9. 视口控制

#### 缩放
- [ ] 滚轮缩放
- [ ] 缩放以鼠标为中心
- [ ] 缩放限制生效（0.1 - 10）
- [ ] 缩放比例正确显示
- [ ] 缩放按钮可用

#### 平移
- [ ] 空格 + 拖拽平移
- [ ] 中键拖拽平移
- [ ] 平移后视口位置正确
- [ ] 平移后元素位置正确

### 10. 键盘快捷键

- [ ] Delete/Backspace 删除选中元素
- [ ] Ctrl/Cmd + A 全选
- [ ] Ctrl/Cmd + C 复制
- [ ] Ctrl/Cmd + V 粘贴
- [ ] Ctrl/Cmd + X 剪切
- [ ] Ctrl/Cmd + Z 撤销
- [ ] Ctrl/Cmd + Shift + Z 重做
- [ ] V 选择工具
- [ ] R 矩形工具
- [ ] O 圆形工具
- [ ] T 文本工具
- [ ] I 图片工具

### 11. 性能测试

#### 渲染性能
- [ ] 10 个元素流畅（> 50 FPS）
- [ ] 50 个元素流畅（> 30 FPS）
- [ ] 100 个元素流畅（> 20 FPS）
- [ ] 200 个元素可接受（> 15 FPS）

#### 内存使用
- [ ] 创建/删除元素后内存不持续增长
- [ ] 长时间运行无内存泄漏
- [ ] 撤销/重做操作不导致内存泄漏

#### 交互响应
- [ ] 选择响应及时（< 50ms）
- [ ] 变换操作流畅
- [ ] 缩放/平移流畅

### 12. 边界情况

#### 空场景
- [ ] 空场景正常显示
- [ ] 空场景操作不报错

#### 单个元素
- [ ] 单个元素所有操作正常
- [ ] 单个元素删除后场景正常

#### 大量元素
- [ ] 100+ 元素场景稳定
- [ ] 大量元素选择正常
- [ ] 大量元素变换正常

#### 极端变换
- [ ] 极小尺寸元素（1x1）
- [ ] 极大尺寸元素（10000x10000）
- [ ] 极端旋转角度（360+）
- [ ] 负坐标元素

### 13. 错误处理

- [ ] 无效操作不报错
- [ ] 错误操作有适当提示
- [ ] 异常情况优雅降级

### 14. UI/UX

- [ ] 界面美观、专业
- [ ] 交互流畅、反馈清晰
- [ ] 工具提示正确
- [ ] 状态显示正确
- [ ] 响应式布局适配

---

## 性能测试结果记录

### 测试环境
- 浏览器: 
- 操作系统: 
- 设备: 

### 渲染性能
| 元素数量 | FPS | 渲染时间 (ms) | 内存使用 (MB) | 状态 |
|---------|-----|---------------|---------------|------|
| 10      |     |               |               |      |
| 50      |     |               |               |      |
| 100     |     |               |               |      |
| 200     |     |               |               |      |

### 内存泄漏检测
- 初始内存: ___ MB
- 最终内存: ___ MB
- 泄漏检测: [ ] 通过 [ ] 失败

---

## Bug 记录

### 已修复
- 

### 待修复
- 

---

## Demo 准备

### 演示场景
- [ ] 创建完整演示场景
- [ ] 包含所有元素类型
- [ ] 展示主要功能
- [ ] 性能表现良好

### 演示流程
1. 
2. 
3. 

---

## 测试完成确认

- [ ] 所有功能测试通过
- [ ] 性能测试达标
- [ ] 内存泄漏检测通过
- [ ] 无明显 bug
- [ ] Demo 准备完成

**测试人员**: ___________  
**测试日期**: ___________  
**测试结果**: [ ] 通过 [ ] 需要修复

